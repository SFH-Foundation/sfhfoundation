<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Self, Soul, and Joyful Surrender"><link href=https://sfh-foundation.github.io/sfhfoundation/site/guides/graphical-guide-for-understanding-uniswap/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.6.3"><title>Graphical Guide to Understanding Uniswap - SFH Foundation</title><link rel=stylesheet href=../../assets/stylesheets/application.adb8469c.css><link rel=stylesheet href=../../assets/stylesheets/material-components-web.min.css><link rel=stylesheet href=../../assets/stylesheets/mdc-web.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#fb8c00><script src=../../assets/javascripts/modernizr.86422ebf.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><link rel=stylesheet href=../../extra.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=indigo> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#a-graphical-guide-for-understanding-uniswap tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://sfh-foundation.github.io/sfhfoundation/site/ title="SFH Foundation" aria-label="SFH Foundation" class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> SFH Foundation </span> <span class=md-header-nav__topic> Graphical Guide to Understanding Uniswap </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../books/ class=md-tabs__link> Books </a> </li> <li class=md-tabs__item> <a href=../../videos/ class=md-tabs__link> Videos </a> </li> <li class=md-tabs__item> <a href=../../articles/ class=md-tabs__link> Articles </a> </li> <li class=md-tabs__item> <a href=../../a-s-k/ask/ class=md-tabs__link> ASK </a> </li> <li class=md-tabs__item> <a href=../ethereum-high-yield-savings-account/ class="md-tabs__link md-tabs__link--active"> Guides </a> </li> <li class=md-tabs__item> <a href=../../questions-about-ethereum/is-ethereum-more-expensive-to-use-as-price-rises/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../../glossary/crypto-acronyms/ class=md-tabs__link> Glossary </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://sfh-foundation.github.io/sfhfoundation/site/ title="SFH Foundation" class="md-nav__button md-logo"> <i class=md-icon></i> </a> SFH Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ title=Home class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=https://sfh-foundation.github.io/sfhfoundation/ title=Audio class=md-nav__link> Audio </a> </li> <li class=md-nav__item> <a href=https://sfhfoundation.substack.com/ title=Newsletter class=md-nav__link> Newsletter </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Books </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../books/ title="Books Overview" class=md-nav__link> Books Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> Islam and Sufism </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-2> Islam and Sufism </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../books/islam-sufism/transformative-worship/ title="Transformative Worship in Islam" class=md-nav__link> Transformative Worship in Islam </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> Spirituality and Philosophy </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-3> Spirituality and Philosophy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../books/spirituality-philosophy/ripples-light/ title="Ripples of Light" class=md-nav__link> Ripples of Light </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-4 type=checkbox id=nav-4-4> <label class=md-nav__link for=nav-4-4> Qur'anic Commentary </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-4> Qur'anic Commentary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../books/quran/essential-quran/ title="The Essential Message Of the Quran" class=md-nav__link> The Essential Message Of the Quran </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Videos </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Videos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../videos/ title="Videos Overview" class=md-nav__link> Videos Overview </a> </li> <li class=md-nav__item> <a href=../../videos/darkness-to-light/ title="From Darkness to Light" class=md-nav__link> From Darkness to Light </a> </li> <li class=md-nav__item> <a href=../../videos/where-land-meets-sea/ title="Where Land Meets Sea" class=md-nav__link> Where Land Meets Sea </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> Conferences </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-4> Conferences </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../videos/conferences/2017/ title="2017 Sufi Conference" class=md-nav__link> 2017 Sufi Conference </a> </li> <li class=md-nav__item> <a href=../../videos/conferences/2018/ title="2018 Sufi Conference" class=md-nav__link> 2018 Sufi Conference </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-5 type=checkbox id=nav-5-5> <label class=md-nav__link for=nav-5-5> Quranic Commentary </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-5> Quranic Commentary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../videos/quran/quran-happiness/ title="Quran and Happiness" class=md-nav__link> Quran and Happiness </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-6 type=checkbox id=nav-5-6> <label class=md-nav__link for=nav-5-6> Conversations </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-6> Conversations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../videos/conversations/demartini/ title="Dr John Demartini" class=md-nav__link> Dr John Demartini </a> </li> <li class=md-nav__item> <a href=../../videos/conversations/shaykh-muslim/ title="Shaykh Muslim" class=md-nav__link> Shaykh Muslim </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Articles </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Articles </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../articles/ title="Articles Overview" class=md-nav__link> Articles Overview </a> </li> <li class=md-nav__item> <a href=../../articles/dhikr-fikr-himmah/ title="Dhikr, Fikr, Himmah" class=md-nav__link> Dhikr, Fikr, Himmah </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> ASK </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> ASK </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../a-s-k/ask/ title="Academy of Self Knowledge" class=md-nav__link> Academy of Self Knowledge </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2 type=checkbox id=nav-7-2> <label class=md-nav__link for=nav-7-2> Cosmology of the Self </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-2> Cosmology of the Self </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../a-s-k/cosmology-self/ title="Who am I?" class=md-nav__link> Who am I? </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-2-2 type=checkbox id=nav-7-2-2> <label class=md-nav__link for=nav-7-2-2> Course Outline </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-2-2> Course Outline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../a-s-k/cosmology-self/childhood/ title="Early Childhood" class=md-nav__link> Early Childhood </a> </li> <li class=md-nav__item> <a href=../../a-s-k/cosmology-self/ethics-character-traits/ title="Ethics & Character Traits" class=md-nav__link> Ethics & Character Traits </a> </li> <li class=md-nav__item> <a href=../../a-s-k/cosmology-self/body-mind-spirit/ title=Body-Mind-Spirit class=md-nav__link> Body-Mind-Spirit </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-3 type=checkbox id=nav-7-3> <label class=md-nav__link for=nav-7-3> The Prophetic Way of Life </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-3> The Prophetic Way of Life </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../a-s-k/prophetic-way/ title="Timeless Wisdom and the Modern World" class=md-nav__link> Timeless Wisdom and the Modern World </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-3-2 type=checkbox id=nav-7-3-2> <label class=md-nav__link for=nav-7-3-2> Course Outline </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-3-2> Course Outline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../a-s-k/prophetic-way/conscious-worship/ title="Conscious Worship" class=md-nav__link> Conscious Worship </a> </li> <li class=md-nav__item> <a href=../../a-s-k/prophetic-way/evolving-relationships/ title="Evolving Relationships" class=md-nav__link> Evolving Relationships </a> </li> <li class=md-nav__item> <a href=../../a-s-k/prophetic-way/guidance-allah/ title="Guidance from Allah" class=md-nav__link> Guidance from Allah </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8 checked> <label class=md-nav__link for=nav-8> Guides </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ethereum-high-yield-savings-account/ title="How to Get a High-Yield Savings Account on Ethereum" class=md-nav__link> How to Get a High-Yield Savings Account on Ethereum </a> </li> <li class=md-nav__item> <a href=../deciphering-a-transaction-on-etherscan/ title="Deciphering a Transaction on Etherscan" class=md-nav__link> Deciphering a Transaction on Etherscan </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Graphical Guide to Understanding Uniswap </label> <a href=./ title="Graphical Guide to Understanding Uniswap" class="md-nav__link md-nav__link--active"> Graphical Guide to Understanding Uniswap </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> <li class=md-nav__item> <a href=#erc20-token-primer class=md-nav__link> ERC20 Token Primer </a> </li> <li class=md-nav__item> <a href=#overview-of-uniswaps-contracts class=md-nav__link> Overview of Uniswap’s Contracts </a> </li> <li class=md-nav__item> <a href=#liquidity-pools class=md-nav__link> Liquidity Pools </a> </li> <li class=md-nav__item> <a href=#swapping-erc20-erc20 class=md-nav__link> Swapping ERC20 ⇄ ERC20 </a> </li> <li class=md-nav__item> <a href=#liquidity-providers class=md-nav__link> Liquidity Providers </a> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> Resources </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../guide-to-ens/ title="The Ultimate Guide to the ENS" class=md-nav__link> The Ultimate Guide to the ENS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> FAQ </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> FAQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../questions-about-ethereum/is-ethereum-more-expensive-to-use-as-price-rises/ title="Is Ethereum more expensive to use as price rises?" class=md-nav__link> Is Ethereum more expensive to use as price rises? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/why-do-you-have-to-pay-to-use-ethereum/ title="Why do you have to pay to use Ethereum?" class=md-nav__link> Why do you have to pay to use Ethereum? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/is-ether-a-security/ title="Is Ether a security?" class=md-nav__link> Is Ether a security? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/is-ethereum-over-1tb-in-size/ title="Is Ethereum over 1TB in size?" class=md-nav__link> Is Ethereum over 1TB in size? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/is-ethereum-immutable/ title="Is Ethereum immutable?" class=md-nav__link> Is Ethereum immutable? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/is-ether-needed-for-transaction-fees/ title="Is Ether needed for transaction fees?" class=md-nav__link> Is Ether needed for transaction fees? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/if-ethereum-is-open-source-why-cant-it-be-copied/ title="If Ethereum is open source why can't it be copied?" class=md-nav__link> If Ethereum is open source why can't it be copied? </a> </li> <li class=md-nav__item> <a href=../../questions-about-ethereum/what-is-the-difficulty-bomb/ title="What is the Ethereum difficulty bomb (Ice Age)?" class=md-nav__link> What is the Ethereum difficulty bomb (Ice Age)? </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> Glossary </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> Glossary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../glossary/crypto-acronyms/ title=Acronyms class=md-nav__link> Acronyms </a> </li> <li class=md-nav__item> <a href=../../glossary/ens-domains/ title="ENS Domain Directory" class=md-nav__link> ENS Domain Directory </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10-3 type=checkbox id=nav-10-3> <label class=md-nav__link for=nav-10-3> Sideways Dictionary </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-10-3> Sideways Dictionary </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/what-is-the-sideways-dictionary/ title="What is the sideways dictionary?" class=md-nav__link> What is the sideways dictionary? </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/2FA/ title=2FA class=md-nav__link> 2FA </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/blockchain/ title=Blockchain class=md-nav__link> Blockchain </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/cold-storage/ title="Cold Storage" class=md-nav__link> Cold Storage </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/cryptojacking/ title=Cryptojacking class=md-nav__link> Cryptojacking </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/ddos/ title=DDOS class=md-nav__link> DDOS </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/difficulty/ title=Difficulty class=md-nav__link> Difficulty </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/double-spend/ title="Double Spend" class=md-nav__link> Double Spend </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/forks/ title=Forks class=md-nav__link> Forks </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/multi-sig/ title=Multi-Sig class=md-nav__link> Multi-Sig </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/smart-contract/ title="Smart Contract" class=md-nav__link> Smart Contract </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/state-rent/ title="State Rent" class=md-nav__link> State Rent </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/stateless-clients/ title="Stateless Clients" class=md-nav__link> Stateless Clients </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/uncle-blocks/ title="Uncle Blocks" class=md-nav__link> Uncle Blocks </a> </li> <li class=md-nav__item> <a href=../../glossary/sideways-dictionary/wei/ title=Wei class=md-nav__link> Wei </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> <li class=md-nav__item> <a href=#erc20-token-primer class=md-nav__link> ERC20 Token Primer </a> </li> <li class=md-nav__item> <a href=#overview-of-uniswaps-contracts class=md-nav__link> Overview of Uniswap’s Contracts </a> </li> <li class=md-nav__item> <a href=#liquidity-pools class=md-nav__link> Liquidity Pools </a> </li> <li class=md-nav__item> <a href=#swapping-erc20-erc20 class=md-nav__link> Swapping ERC20 ⇄ ERC20 </a> </li> <li class=md-nav__item> <a href=#liquidity-providers class=md-nav__link> Liquidity Providers </a> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> Resources </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=a-graphical-guide-for-understanding-uniswap>A Graphical Guide for Understanding Uniswap<a class=headerlink href=#a-graphical-guide-for-understanding-uniswap title="Permanent link">&para;</a></h1> <h2 id=summary>Summary<a class=headerlink href=#summary title="Permanent link">&para;</a></h2> <p>Uniswap is an exchange protocol that allows users to trustlessly swap ERC20 tokens. Rather using the traditional order book model, Uniswap pools tokens into smart contracts and users trade against these liquidity pools. Anyone can swap tokens, add tokens to a pool to earn fees, or list a token on Uniswap.</p> <p>This guide is meant to help beginners understand how Uniswap works under the hood. While the interface may appear simple, there is a lot going on behind the scenes.</p> <p><em>I recommend this <a href=https://defitutorials.substack.com/p/the-ultimate-guide-to-uniswap>resource</a> if you are interested in understanding how to use the Uniswap specifically.</em></p> <h2 id=erc20-token-primer>ERC20 Token Primer<a class=headerlink href=#erc20-token-primer title="Permanent link">&para;</a></h2> <p>ERC20 tokens are the most common type of token built on top of Ethereum. They are <a href=https://en.wikipedia.org/wiki/Fungibility>fungible</a> in nature, meaning that there isn’t a distinction between individual tokens. For example, if I have 100 metal marbles in my hand that are all the same size and color, it doesn’t matter which one I give you. In the same way, if I have 100 of the same ERC20 token, it doesn’t matter which one I give you. This contrasts with ERC721 tokens which are non-fungible tokens (NFTs) such as cryptokitties.</p> <p><img alt="fungible token image" src=/assets/images/uniswap_guide/fungible_tokens.png></p> <p>ERC20s can be thought of as the most simple unit of account for a wide range of use cases including currency, rewards points, debt slips, interest accruing bonds, and much more. They are also highly divisible and can be sent in small increments. Since this type of token is so pervasive, it is important to develop a simple way of swapping between them.</p> <p><em>Please view the link <a href=https://eips.ethereum.org/EIPS/eip-20>here</a> for more information on ERC20s.</em></p> <h2 id=overview-of-uniswaps-contracts>Overview of Uniswap’s Contracts<a class=headerlink href=#overview-of-uniswaps-contracts title="Permanent link">&para;</a></h2> <p>When viewing Uniswap’s website, it is important to keep in mind that it is much more than just the interface. Uniswap starndaizes how ERC20s are exchanged with a set of smart contracts. Anyone can build an interface that connects to these contracts and instantly be able to start exchanging with everyone else that is using Uniswap.</p> <p>There are two different types of contracts that make up Uniswap. The first is known as an Exchange contract. Exchange contracts hold a pool of a specific token and Ether that users can swap against. The second kind of contract is the Factory contract which is in charge of creating new Exchange contracts and registering the ERC20 token address to its Exchange contract address.</p> <p><img alt="uniswap contract overview" src=/assets/images/uniswap_guide/uniswap_contract_overview.png></p> <p>There are no listing fees to add a token on Uniswap, instead anyone can call a function on the Factory contract to register a new token. The graphic below is an example of when DAI was added to Uniswap. Someone first called the createExchange function in the Factory contract with DAI’s contract address. Then the Factory contract checks it’s registry to see if an Exchange contract has been created for that token address. If no Exchange address is listed, the factory contract deploys an Exchange contract and records the Exchange address in its registry.</p> <p><img alt="creating new pool" src=/assets/images/uniswap_guide/new_pool_creation.png></p> <h2 id=liquidity-pools>Liquidity Pools<a class=headerlink href=#liquidity-pools title="Permanent link">&para;</a></h2> <p>Uniswap is unique in that it doesn’t use an order book to derive the price of an asset. In a centralized exchange, such as Coinbase Pro, the price of an asset listed on the exchange is determined by where the highest price someone is willing to pay and the lowest price someone is willing to sell meet. We can see in the image below, that the highest bid price for BTC on Coinbase Pro at that point was $9301.36 and the lowest asking price was $9301.37.</p> <p><img alt="orderbook example" src=/assets/images/uniswap_guide/orderbook_example.png></p> <p>Instead Uniswap uses the Exchange contracts to pool both Ether and a specific ERC20. When trading Ether for a token, Ether is sent to the contract’s pool and the token is given back to the user. As a result, the user doesn’t need to wait for a counterparty in order to exchange or worry about specifying a price. Since anyone can list a token and users don't need to worry about matching with someone else, it is very easy to avoid any bootstrapping issue when first launching a token.</p> <p><img alt="swap example" src=/assets/images/uniswap_guide/swap_example.png></p> <p>The amount that is returned from swapping is based on an automated market maker formula. The graph below helps illustrate how the formula works. Essentially, the amount that is returned to you is based on the ratio of Ether to token in in the pool. No matter the size of a swap, the user is guaranteed to have their trade execute because the more of an asset that you add to one side of the pool, the further along the curve it pushes you for the other asset. Meaning the larger the order relative to the pool, the worst rate you will receive as the ratio moves along the curve.</p> <p><img alt="constant market maker graph" src=/assets/images/uniswap_guide/market_graph.png></p> <p><em>You can learn more about the formula <a href=https://ethresear.ch/t/improving-front-running-resistance-of-x-y-k-market-makers/1281>here</a>.</em></p> <p>But if users are only just sending cryptocurrency, how does the ratio of Ether to token remain priced correctly relative to external markets? The answer is the pools maintain a ratio relative to the price of the rest of the market through people <a href=https://en.wikipedia.org/wiki/Arbitrage>arbitraging</a> the pool. Imagine that the DAI:ETH pool is expressed in terms of a scale and when the scale is balanced the pool is appropriately priced relative to the market price of a centralized exchange. Let’s say that the current price for ETH in USD on a centralized exchange is $150 and the ratio in the Uniswap DAI:ETH pool returns 150 DAI for 1 ETH. As a result, our scale is balanced because the pool matches the current market price on the centralized exchange. </p> <p><img alt="scale 150 balanced" src=/assets/images/uniswap_guide/scale_150_balanced.png></p> <p>Now let’s assume that there is a movement in the market that pushes the price of ETH to $100 on the centralized exchange. Due to the price movement, we can now see that our scale is off balance relative to the market price because people can now swap 1 ETH for 150 DAI on Uniswap when the market price on a centralized exchange is $100 for 1 ETH. </p> <p><img alt="scale 100 unbalanced" src=/assets/images/uniswap_guide/scale_100_unbalanced.png></p> <p>In response, someone can now put ETH into the pool, draw out DAI, then sell the DAI back for ETH on the centralized exchange for profit, and then repeat. They can do this until the pool has balanced out and reflects the current market price on a different exchange.</p> <p><img alt="scale 100 balanced" src=/assets/images/uniswap_guide/scale_100_balanced.png></p> <p>As a result, third party arbitrages play a large role in maintaining the correct ratio of token to Ether in Uniswap pools.</p> <h2 id=swapping-erc20-erc20>Swapping ERC20 ⇄ ERC20<a class=headerlink href=#swapping-erc20-erc20 title="Permanent link">&para;</a></h2> <p>When interacting with a single Exchange contract, a user is able to swap between Ether and a specific ERC20 token. However, Uniswap does allow users to directly swap an ERC20 to another ERC20 in a single transaction. In the example below, the user has DAI and would like to receive MKR. As a result, the user calls the tokenToTokenSwap function which adds DAI to the DAI pool and kicks ETH to the MKR pool and returns MKR to the address that initially sent the transaction. </p> <p><img alt="swapping erc20s" src=/assets/images/uniswap_guide/swapping_erc20s.png></p> <h2 id=liquidity-providers>Liquidity Providers<a class=headerlink href=#liquidity-providers title="Permanent link">&para;</a></h2> <p>When an Exchange contract is first created for a token, both the token and Ether pools are empty. The first person that deposits into the contract is the one that determines the ratio between the token and Ether. If they deposit a ratio that is different from what the current market rate is, then an arbitrage opportunity is available. When liquidity providers are adding to an established pool, they should add a proportional amount of token and Ether to the pool. If they don’t, the liquidity they added is at risk of being arbitraged as well.</p> <p>In addition, larger liquidity pools are beneficial to users because they allow for larger swaps to happen without skewing the token to ETH ratio too far along the curve. Uniswap incentives users to add liquidity to pools by rewarding providers with fees that are collected by the protocol. A 0.3% fee is taken for swapping between Ether and a token and roughly a 0.6% is token for token to tokens swaps.</p> <p>Lastly, special ERC20 tokens known as liquidity tokens are minted to the provider’s address in proportion to how much liquidity they contributed to the pool. The tokens are burned when the user wants to receive the liquidity they contributed plus the fees that we accumulated while their liquidity was locked.</p> <p><img alt="adding liquidity" src=/assets/images/uniswap_guide/liquidity_token_image.png></p> <p><em>I recommend reading <a href=https://medium.com/@pintail/uniswap-a-good-deal-for-liquidity-providers-104c0b6816f2>this article</a> if you are curious about the advantages and risks of being a liquidity provider.</em></p> <h2 id=resources>Resources<a class=headerlink href=#resources title="Permanent link">&para;</a></h2> <ul> <li><a href=https://hackmd.io/C-DvwDSfSxuh-Gd4WKE_ig>Uniswap Whitepaper</a></li> <li><a href=https://medium.com/scalar-capital/uniswap-a-unique-exchange-f4ef44f807bf>Uniswap — A Unique Exchange</a></li> <li><a href=https://ethresear.ch/t/improving-front-running-resistance-of-x-y-k-market-makers/1281>Improving front running resistance of x*y=k market makers</a></li> </ul> </article> </div> </div> <img class=hero-img src=/sfhfoundation/images/sfh_banner.jpg alt="Main hero"> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../deciphering-a-transaction-on-etherscan/ title="Deciphering a Transaction on Etherscan" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Deciphering a Transaction on Etherscan </span> </div> </a> <a href=../guide-to-ens/ title="The Ultimate Guide to the ENS" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> The Ultimate Guide to the ENS </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://github.com/SFH-Foundation/sfhfoundation target=_blank rel=noopener title=github class="md-footer-social__link fa fa-github"></a> <a href=https://twitter.com/cryptowanderer target=_blank rel=noopener title=twitter class="md-footer-social__link fa fa-twitter"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.df00da5d.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> </body> </html>